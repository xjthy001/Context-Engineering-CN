#!/usr/bin/env python3
"""
自动生成的翻译子任务脚本
任务ID: TASK_008
源文件: /app/Context-Engineering/00_COURSE/01_context_retrieval_generation/01_prompt_engineering.md
目标文件: /app/Context-Engineering/cn/00_COURSE/01_context_retrieval_generation/01_prompt_engineering.md
章节: 01_context_retrieval_generation
段落数: 82
"""

import sys
from pathlib import Path

# 任务信息
TASK_ID = "TASK_008"
SOURCE_FILE = Path("/app/Context-Engineering/00_COURSE/01_context_retrieval_generation/01_prompt_engineering.md")
TARGET_FILE = Path("/app/Context-Engineering/cn/00_COURSE/01_context_retrieval_generation/01_prompt_engineering.md")
TOTAL_SEGMENTS = 82

def translate_segment(segment_id, content):
    """
    翻译单个段落
    这里需要调用实际的翻译服务或AI模型
    """
    # TODO: 实现实际的翻译逻辑
    # 这里是占位符,实际使用时需要调用翻译API
    print(f"  翻译段落 {segment_id}/{TOTAL_SEGMENTS}...")

    # 简单的标记处理(保持代码块不变)
    if '```' in content:
        # 代码块需要特殊处理
        return content  # 暂时保持原样

    # 实际翻译逻辑应该在这里
    return content

def main():
    print(f"开始翻译任务: {TASK_ID}")
    print(f"文件: {SOURCE_FILE.name}")

    # 读取源文件
    with open(SOURCE_FILE, 'r', encoding='utf-8') as f:
        content = f.read()

    # 分段翻译
    segments = [{'segment_id': 1, 'start_line': 1, 'end_line': 1, 'char_count': 30, 'has_code': False, 'segment_type': 'header', 'content': '# Advanced Prompt Engineering\n'}, {'segment_id': 2, 'start_line': 2, 'end_line': 7, 'char_count': 266, 'has_code': False, 'segment_type': 'header', 'content': '## From Basic Instructions to Sophisticated Reasoning Systems\n\n> **Module 01.1** | *Context Engineering Course: From Foundations to Frontier Systems*\n> \n> Building on [Context Engineering Survey](http...'}, {'segment_id': 3, 'start_line': 8, 'end_line': 9, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 4, 'start_line': 10, 'end_line': 18, 'char_count': 468, 'has_code': False, 'segment_type': 'header', 'content': '## Learning Objectives\n\nBy the end of this module, you will understand and implement:\n\n- **Reasoning Chain Architectures**: Chain-of-thought, tree-of-thought, and graph-of-thought patterns\n- **Strateg...'}, {'segment_id': 5, 'start_line': 19, 'end_line': 20, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 6, 'start_line': 21, 'end_line': 24, 'char_count': 298, 'has_code': False, 'segment_type': 'header', 'content': '## Conceptual Progression: Instructions to Intelligent Reasoning\n\nThink of prompt engineering like teaching someone to think through problems - from giving simple instructions, to showing examples, to...'}, {'segment_id': 7, 'start_line': 25, 'end_line': 30, 'char_count': 225, 'has_code': True, 'segment_type': 'header', 'content': '### Stage 1: Direct Instruction\n```\n"Translate this text to French: [text]"\n```\n**Context**: Like giving a direct command. Works for simple, well-defined tasks but limited by the clarity and completen...'}, {'segment_id': 8, 'start_line': 31, 'end_line': 39, 'char_count': 313, 'has_code': True, 'segment_type': 'header', 'content': '### Stage 2: Example-Based Learning  \n```\n"Translate to French. Examples:\nEnglish: Hello → French: Bonjour\nEnglish: Thank you → French: Merci\nNow translate: [text]"\n```\n**Context**: Like showing someo...'}, {'segment_id': 9, 'start_line': 40, 'end_line': 50, 'char_count': 398, 'has_code': True, 'segment_type': 'header', 'content': '### Stage 3: Structured Reasoning\n```\n"Translate to French using this process:\n1. Identify key words and phrases\n2. Consider cultural context and formality level  \n3. Apply appropriate French grammar ...'}, {'segment_id': 10, 'start_line': 51, 'end_line': 58, 'char_count': 376, 'has_code': True, 'segment_type': 'header', 'content': '### Stage 4: Role-Based Expertise\n```\n"You are an expert French translator with 20 years of experience in literary translation. \nConsider cultural nuances, maintain stylistic consistency, and preserve...'}, {'segment_id': 11, 'start_line': 59, 'end_line': 69, 'char_count': 475, 'has_code': True, 'segment_type': 'header', 'content': '### Stage 5: Adaptive Reasoning Systems\n```\nMeta-Cognitive Translation System:\n- Analyze text complexity and domain\n- Select appropriate translation strategy\n- Apply translation with self-monitoring\n-...'}, {'segment_id': 12, 'start_line': 70, 'end_line': 71, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 13, 'start_line': 72, 'end_line': 73, 'char_count': 51, 'has_code': False, 'segment_type': 'header', 'content': '## Mathematical Foundations of Prompt Engineering\n\n'}, {'segment_id': 14, 'start_line': 74, 'end_line': 84, 'char_count': 389, 'has_code': True, 'segment_type': 'header', 'content': '### Prompt Effectiveness Function\nBuilding on our context formalization:\n```\nP(Y* | Prompt, Context) = f(Prompt_Structure, Information_Density, Reasoning_Guidance)\n```\n\nWhere:\n- **Prompt_Structure**: ...'}, {'segment_id': 15, 'start_line': 85, 'end_line': 93, 'char_count': 443, 'has_code': True, 'segment_type': 'header', 'content': '### Chain-of-Thought Formalization\n```\nCoT(Problem) = Decompose(Problem) → Reason(Step₁) → Reason(Step₂) → ... → Synthesize(Solution)\n\nWhere each Reason(Stepᵢ) = Analyze(Stepᵢ) + Apply(Knowledge) + Ge...'}, {'segment_id': 16, 'start_line': 94, 'end_line': 100, 'char_count': 355, 'has_code': True, 'segment_type': 'header', 'content': '### Few-Shot Learning Optimization\n```\nFew-Shot_Effectiveness = Σᵢ Similarity(Exampleᵢ, Target) × Quality(Exampleᵢ) × Diversity(Examples)\n```\n\n**Intuitive Explanation**: Good few-shot examples should ...'}, {'segment_id': 17, 'start_line': 101, 'end_line': 102, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 18, 'start_line': 103, 'end_line': 104, 'char_count': 42, 'has_code': False, 'segment_type': 'header', 'content': '## Advanced Prompt Architecture Patterns\n\n'}, {'segment_id': 19, 'start_line': 105, 'end_line': 157, 'char_count': 1696, 'has_code': True, 'segment_type': 'header', 'content': '### 1. Chain-of-Thought (CoT) Reasoning\n\n```markdown\n# Chain-of-Thought Template\n## Problem Analysis Framework\n\n**Problem**: {problem_statement}\n\n**Reasoning Process**:\n\n### Step 1: Problem Understand...'}, {'segment_id': 20, 'start_line': 158, 'end_line': 220, 'char_count': 2308, 'has_code': True, 'segment_type': 'header', 'content': '### 2. Tree-of-Thought (ToT) Reasoning\n\n```yaml\n# Tree-of-Thought Reasoning Template\nname: "tree_of_thought_exploration"\nintent: "Explore multiple reasoning paths to find optimal solutions"\n\nproblem_a...'}, {'segment_id': 21, 'start_line': 221, 'end_line': 311, 'char_count': 3096, 'has_code': True, 'segment_type': 'header', 'content': '### 3. Graph-of-Thought (GoT) Integration\n\n```json\n{\n  "graph_of_thought_template": {\n    "intent": "Map complex interconnected reasoning across multiple dimensions",\n    "structure": "non_linear_reas...'}, {'segment_id': 22, 'start_line': 312, 'end_line': 312, 'char_count': 1, 'has_code': False, 'segment_type': 'content', 'content': '\n'}, {'segment_id': 23, 'start_line': 313, 'end_line': 314, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 24, 'start_line': 315, 'end_line': 316, 'char_count': 58, 'has_code': False, 'segment_type': 'header', 'content': '## Software 3.0 Paradigm 1: Prompts (Advanced Templates)\n\n'}, {'segment_id': 25, 'start_line': 317, 'end_line': 416, 'char_count': 4115, 'has_code': True, 'segment_type': 'header', 'content': '### Meta-Prompting Framework\n\n```xml\n<meta_prompt_template name="adaptive_reasoning_orchestrator">\n  <intent>Create prompts that adapt their reasoning approach based on problem characteristics</intent...'}, {'segment_id': 26, 'start_line': 417, 'end_line': 419, 'char_count': 329, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: This meta-prompting system is like having a master teacher who can analyze any problem and instantly create the perfect teaching approach for that specific challenge. It do...'}, {'segment_id': 27, 'start_line': 420, 'end_line': 488, 'char_count': 2743, 'has_code': True, 'segment_type': 'header', 'content': '### Advanced Few-Shot Learning Architecture\n\n```markdown\n# Intelligent Few-Shot Example Selection Framework\n\n## Context Analysis\n**Target Task**: {specific_task_description}\n**Domain**: {subject_area_...'}, {'segment_id': 28, 'start_line': 489, 'end_line': 490, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 29, 'start_line': 491, 'end_line': 492, 'char_count': 71, 'has_code': False, 'segment_type': 'header', 'content': '## Software 3.0 Paradigm 2: Programming (Prompt Optimization Systems)\n\n'}, {'segment_id': 30, 'start_line': 493, 'end_line': 703, 'char_count': 8022, 'has_code': True, 'segment_type': 'header', 'content': '### Automated Prompt Evolution Engine\n\n```python\nimport numpy as np\nfrom typing import Dict, List, Optional, Callable, Tuple\nfrom dataclasses import dataclass\nfrom abc import ABC, abstractmethod\nimpor...'}, {'segment_id': 31, 'start_line': 704, 'end_line': 891, 'char_count': 8008, 'has_code': False, 'segment_type': 'header', 'content': '        \n        # This would implement more sophisticated example mutation\n        # For now, simple placeholder\n        if "example" in template.lower():\n            return template.replace("For exa...'}, {'segment_id': 32, 'start_line': 892, 'end_line': 943, 'char_count': 2469, 'has_code': True, 'segment_type': 'code', 'content': '        for generation in range(5):\n            print(f"\\nGeneration {generation + 1}:")\n            \n            # Evolve population\n            population = self.evolution_engine.evolve_generation(t...'}, {'segment_id': 33, 'start_line': 944, 'end_line': 945, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 34, 'start_line': 946, 'end_line': 947, 'char_count': 74, 'has_code': False, 'segment_type': 'header', 'content': '## Software 3.0 Paradigm 3: Protocols (Self-Improving Reasoning Systems)\n\n'}, {'segment_id': 35, 'start_line': 948, 'end_line': 1088, 'char_count': 8008, 'has_code': True, 'segment_type': 'header', 'content': '### Adaptive Reasoning Protocol\n\n```\n/reasoning.adaptive{\n    intent="Create self-improving reasoning systems that adapt their approach based on problem characteristics and performance feedback",\n    ...'}, {'segment_id': 36, 'start_line': 1089, 'end_line': 1103, 'char_count': 818, 'has_code': True, 'segment_type': 'code', 'content': '        {trigger="meta_reasoning_insights_gained", \n         action="enhance_reasoning_strategy_selection_and_adaptation_processes"}\n    ],\n    \n    meta={\n        reasoning_system_version="adaptive_v...'}, {'segment_id': 37, 'start_line': 1104, 'end_line': 1244, 'char_count': 6997, 'has_code': True, 'segment_type': 'header', 'content': '### Self-Refining Prompt Protocol\n\n```yaml\n# Self-Refining Prompt Evolution Protocol\nname: "self_refining_prompt_system"\nversion: "v2.4.adaptive"\nintent: "Create prompts that improve themselves throug...'}, {'segment_id': 38, 'start_line': 1245, 'end_line': 1247, 'char_count': 377, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: This self-refining system creates prompts that evolve like living systems. They start with a basic form, monitor their own performance, learn from feedback, and continuousl...'}, {'segment_id': 39, 'start_line': 1248, 'end_line': 1249, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 40, 'start_line': 1250, 'end_line': 1251, 'char_count': 49, 'has_code': False, 'segment_type': 'header', 'content': '## Advanced Reasoning Techniques Implementation\n\n'}, {'segment_id': 41, 'start_line': 1252, 'end_line': 1413, 'char_count': 8051, 'has_code': True, 'segment_type': 'header', 'content': '### Self-Consistency with Multiple Reasoning Paths\n\n```python\nclass SelfConsistencyReasoning:\n    """Implementation of self-consistency reasoning with multiple path exploration"""\n    \n    def __init_...'}, {'segment_id': 42, 'start_line': 1414, 'end_line': 1559, 'char_count': 6346, 'has_code': True, 'segment_type': 'code', 'content': "    \n    def __init__(self):\n        self.reflection_criteria = {\n            'logical_consistency': self._check_logical_consistency,\n            'completeness': self._check_completeness,\n            ..."}, {'segment_id': 43, 'start_line': 1560, 'end_line': 1562, 'char_count': 380, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: These advanced reasoning techniques work like having multiple expert consultants approach the same problem independently (self-consistency), then having a master synthesize...'}, {'segment_id': 44, 'start_line': 1563, 'end_line': 1564, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 45, 'start_line': 1565, 'end_line': 1566, 'char_count': 45, 'has_code': False, 'segment_type': 'header', 'content': '## Real-World Applications and Case Studies\n\n'}, {'segment_id': 46, 'start_line': 1567, 'end_line': 1725, 'char_count': 6771, 'has_code': True, 'segment_type': 'header', 'content': '### Case Study: Medical Diagnosis Reasoning Chain\n\n```python\ndef medical_diagnosis_reasoning_example():\n    """Advanced prompting for medical diagnosis support"""\n    \n    medical_reasoning_template =...'}, {'segment_id': 47, 'start_line': 1726, 'end_line': 1728, 'char_count': 332, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: This legal reasoning framework mirrors how experienced attorneys think through complex cases - systematically identifying issues, researching applicable law, applying facts...'}, {'segment_id': 48, 'start_line': 1729, 'end_line': 1730, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 49, 'start_line': 1731, 'end_line': 1732, 'char_count': 52, 'has_code': False, 'segment_type': 'header', 'content': '## Advanced Pattern Recognition and Meta-Prompting\n\n'}, {'segment_id': 50, 'start_line': 1733, 'end_line': 1895, 'char_count': 8010, 'has_code': True, 'segment_type': 'header', 'content': '### Pattern-Based Prompt Generation\n\n```python\nclass PromptPatternLibrary:\n    """Library of proven prompt patterns for different reasoning tasks"""\n    \n    def __init__(self):\n        self.patterns ...'}, {'segment_id': 51, 'start_line': 1896, 'end_line': 1981, 'char_count': 3830, 'has_code': True, 'segment_type': 'header', 'content': "        \n        # Detect decision-making requirements\n        decision_indicators = ['decide', 'choose', 'select', 'recommend', 'strategy']\n        characteristics['decision_making'] = sum(0.2 for in..."}, {'segment_id': 52, 'start_line': 1982, 'end_line': 1984, 'char_count': 417, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: This pattern library works like having a master prompt designer who can analyze any task and automatically select the best reasoning framework. Instead of using one-size-fi...'}, {'segment_id': 53, 'start_line': 1985, 'end_line': 1986, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 54, 'start_line': 1987, 'end_line': 1988, 'char_count': 42, 'has_code': False, 'segment_type': 'header', 'content': '## Evaluation and Optimization Framework\n\n'}, {'segment_id': 55, 'start_line': 1989, 'end_line': 2168, 'char_count': 8000, 'has_code': True, 'segment_type': 'header', 'content': '### Comprehensive Prompt Evaluation System\n\n```python\nimport numpy as np\nfrom typing import Dict, List, Tuple, Optional\nfrom dataclasses import dataclass\nfrom collections import defaultdict\n\n@dataclas...'}, {'segment_id': 56, 'start_line': 2169, 'end_line': 2348, 'char_count': 8004, 'has_code': False, 'segment_type': 'content', 'content': "        \n        recommendations = []\n        \n        # Clarity recommendations\n        if evaluation_metrics['clarity'] < 0.7:\n            if len(prompt_text.split('\\n')) < 3:\n                recomm..."}, {'segment_id': 57, 'start_line': 2349, 'end_line': 2361, 'char_count': 838, 'has_code': True, 'segment_type': 'code', 'content': '            print("Optimization Recommendations:")\n            for rec in evaluation_result.optimization_recommendations[:3]:  # Show top 3\n                print(f"  • {rec}")\n        \n        print()...'}, {'segment_id': 58, 'start_line': 2362, 'end_line': 2363, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 59, 'start_line': 2364, 'end_line': 2365, 'char_count': 54, 'has_code': False, 'segment_type': 'header', 'content': '## Practical Exercises and Implementation Challenges\n\n'}, {'segment_id': 60, 'start_line': 2366, 'end_line': 2401, 'char_count': 1303, 'has_code': True, 'segment_type': 'header', 'content': '### Exercise 1: Chain-of-Thought Implementation\n**Goal**: Build a sophisticated chain-of-thought reasoning system\n\n```python\n# Your implementation challenge\nclass ChainOfThoughtBuilder:\n    """Build a...'}, {'segment_id': 61, 'start_line': 2402, 'end_line': 2403, 'char_count': 55, 'has_code': False, 'segment_type': 'header', 'content': '## Practical Exercises and Implementation Challenges \n\n'}, {'segment_id': 62, 'start_line': 2404, 'end_line': 2436, 'char_count': 1166, 'has_code': True, 'segment_type': 'header', 'content': '### Exercise 2: Adaptive Prompt Evolution\n**Goal**: Create a system that automatically improves prompts based on performance\n\n```python\nclass PromptEvolutionSystem:\n    """System for automatically evo...'}, {'segment_id': 63, 'start_line': 2437, 'end_line': 2468, 'char_count': 1082, 'has_code': True, 'segment_type': 'header', 'content': '### Exercise 3: Meta-Prompting Framework\n**Goal**: Build prompts that can generate other prompts for specific tasks\n\n```python\nclass MetaPromptGenerator:\n    """Generate task-specific prompts using me...'}, {'segment_id': 64, 'start_line': 2469, 'end_line': 2470, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 65, 'start_line': 2471, 'end_line': 2472, 'char_count': 51, 'has_code': False, 'segment_type': 'header', 'content': '## Integration with Context Engineering Framework\n\n'}, {'segment_id': 66, 'start_line': 2473, 'end_line': 2558, 'char_count': 3372, 'has_code': True, 'segment_type': 'header', 'content': '### Prompt Engineering in the Context Assembly Pipeline\n\n```python\ndef integrate_prompt_engineering_with_context():\n    """Demonstrate integration of advanced prompting with context assembly"""\n    \n ...'}, {'segment_id': 67, 'start_line': 2559, 'end_line': 2561, 'char_count': 282, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: This integration shows how advanced prompting techniques become part of the larger context engineering system. Instead of static prompts, we have dynamic prompt selection t...'}, {'segment_id': 68, 'start_line': 2562, 'end_line': 2563, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 69, 'start_line': 2564, 'end_line': 2565, 'char_count': 51, 'has_code': False, 'segment_type': 'header', 'content': '## Research Connections and Advanced Applications\n\n'}, {'segment_id': 70, 'start_line': 2566, 'end_line': 2577, 'char_count': 554, 'has_code': False, 'segment_type': 'header', 'content': '### Connection to Context Engineering Research\n\n**Chain-of-Thought and Context Processing (§4.2)**:\n- Our reasoning chain implementations directly extend CoT research from the survey\n- Integration wit...'}, {'segment_id': 71, 'start_line': 2578, 'end_line': 2585, 'char_count': 605, 'has_code': False, 'segment_type': 'header', 'content': '### Novel Contributions Beyond Current Research\n\n**Adaptive Prompt Evolution**: Our evolutionary prompt optimization represents novel research into prompts that improve themselves through performance ...'}, {'segment_id': 72, 'start_line': 2586, 'end_line': 2587, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 73, 'start_line': 2588, 'end_line': 2589, 'char_count': 42, 'has_code': False, 'segment_type': 'header', 'content': '## Performance Benchmarks and Evaluation\n\n'}, {'segment_id': 74, 'start_line': 2590, 'end_line': 2740, 'char_count': 5462, 'has_code': True, 'segment_type': 'header', 'content': '### Advanced Prompt Performance Metrics\n\n```python\nclass AdvancedPromptBenchmarking:\n    """Comprehensive benchmarking system for advanced prompt techniques"""\n    \n    def __init__(self):\n        sel...'}, {'segment_id': 75, 'start_line': 2741, 'end_line': 2743, 'char_count': 322, 'has_code': False, 'segment_type': 'content', 'content': '\n**Ground-up Explanation**: This benchmarking system works like having a standardized test for different prompting approaches. It evaluates how well each technique performs across different types of t...'}, {'segment_id': 76, 'start_line': 2744, 'end_line': 2745, 'char_count': 5, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n'}, {'segment_id': 77, 'start_line': 2746, 'end_line': 2747, 'char_count': 27, 'has_code': False, 'segment_type': 'header', 'content': '## Summary and Next Steps\n\n'}, {'segment_id': 78, 'start_line': 2748, 'end_line': 2768, 'char_count': 830, 'has_code': False, 'segment_type': 'header', 'content': '### Core Concepts Mastered\n\n**Advanced Reasoning Architectures**:\n- Chain-of-thought reasoning with systematic step-by-step guidance\n- Tree-of-thought exploration of multiple reasoning paths\n- Graph-o...'}, {'segment_id': 79, 'start_line': 2769, 'end_line': 2774, 'char_count': 277, 'has_code': False, 'segment_type': 'header', 'content': '### Software 3.0 Integration\n\n**Prompts**: Advanced templates that guide sophisticated reasoning processes\n**Programming**: Evolutionary systems that optimize prompt effectiveness automatically  \n**Pr...'}, {'segment_id': 80, 'start_line': 2775, 'end_line': 2781, 'char_count': 290, 'has_code': False, 'segment_type': 'header', 'content': '### Implementation Skills\n\n- Design and implement complex reasoning chain architectures\n- Build automated prompt optimization and evolution systems\n- Create comprehensive prompt evaluation and benchma...'}, {'segment_id': 81, 'start_line': 2782, 'end_line': 2791, 'char_count': 551, 'has_code': False, 'segment_type': 'header', 'content': '### Research Grounding\n\nDirect implementation of reasoning guidance research (§4.1) with novel extensions into:\n- Evolutionary prompt optimization\n- Meta-cognitive reasoning integration  \n- Dynamic pr...'}, {'segment_id': 82, 'start_line': 2792, 'end_line': 2794, 'char_count': 238, 'has_code': False, 'segment_type': 'content', 'content': '---\n\n*This module transforms prompt engineering from simple instruction writing into a sophisticated discipline of reasoning system design, creating the foundation for intelligent context orchestratio...'}]
    translated_segments = []

    for seg_info in segments:
        seg_id = seg_info['segment_id']
        start = seg_info['start_line']
        end = seg_info['end_line']

        # 提取段落内容
        lines = content.splitlines(keepends=True)
        segment_content = ''.join(lines[start-1:end])

        # 翻译
        translated = translate_segment(seg_id, segment_content)
        translated_segments.append(translated)

    # 合并翻译结果
    final_translation = ''.join(translated_segments)

    # 确保目标目录存在
    TARGET_FILE.parent.mkdir(parents=True, exist_ok=True)

    # 写入目标文件
    with open(TARGET_FILE, 'w', encoding='utf-8') as f:
        f.write(final_translation)

    print(f"✅ 翻译完成: {TARGET_FILE}")
    return 0

if __name__ == "__main__":
    sys.exit(main())
